!function(e){"function"==typeof define&&define.amd?define("inputmask",["inputmask.dependencyLib"],e):"object"==typeof exports?module.exports=e(require("./inputmask.dependencyLib")):e(window.dependencyLib||jQuery)}(function(e){function t(n,a){return this instanceof t?(e.isPlainObject(n)?a=n:(a=a||{},a.alias=n),this.el=void 0,this.opts=e.extend(!0,{},this.defaults,a),this.noMasksCache=a&&void 0!==a.definitions,this.userOptions=a||{},this.events={},this.dataAttribute="data-inputmask",void i(this.opts.alias,a,this.opts)):new t(n,a)}function i(t,n,a){var o=a.aliases[t];return o?(o.alias&&i(o.alias,void 0,a),e.extend(!0,a,o),e.extend(!0,a,n),!0):(null===a.mask&&(a.mask=t),!1)}function n(i,n){function a(i,a,o){if(null!==i&&""!==i){if(1===i.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var r="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;i=o.groupmarker.start+i+o.groupmarker.end+o.quantifiermarker.start+r+","+o.repeat+o.quantifiermarker.end}var s;return void 0===t.prototype.masksCache[i]||!0===n?(s={mask:i,maskToken:t.analyseMask(i,o),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a,maskLength:void 0},!0!==n&&(t.prototype.masksCache[o.numericInput?i.split("").reverse().join(""):i]=s,s=e.extend(!0,{},t.prototype.masksCache[o.numericInput?i.split("").reverse().join(""):i]))):s=e.extend(!0,{},t.prototype.masksCache[o.numericInput?i.split("").reverse().join(""):i]),s}}var o;if(e.isFunction(i.mask)&&(i.mask=i.mask(i)),e.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var r=i.groupmarker.start;return e.each(i.numericInput?i.mask.reverse():i.mask,function(t,n){r.length>1&&(r+=i.groupmarker.end+i.alternatormarker+i.groupmarker.start),r+=void 0===n.mask||e.isFunction(n.mask)?n:n.mask}),r+=i.groupmarker.end,a(r,i.mask,i)}i.mask=i.mask.pop()}return i.mask&&(o=void 0===i.mask.mask||e.isFunction(i.mask.mask)?a(i.mask,i.mask,i):a(i.mask.mask,i.mask,i)),o}function a(i,n,o){function c(e,t,i){t=t||0;var n,a,r,s=[],l=0,u=p();-1===(ae=void 0!==ie?ie.maxLength:void 0)&&(ae=void 0);do{!0===e&&d().validPositions[l]?(r=d().validPositions[l],a=r.match,n=r.locator.slice(),s.push(!0===i?r.input:O(l,a))):(r=m(l,n,l-1),a=r.match,n=r.locator.slice(),(!1===o.jitMasking||l<u||Number.isFinite(o.jitMasking)&&o.jitMasking>l)&&s.push(O(l,a))),l++}while((void 0===ae||l<ae)&&(null!==a.fn||""!==a.def)||t>l);return""===s[s.length-1]&&s.pop(),d().maskLength=l+1,s}function d(){return n}function f(e){var t=d();t.buffer=void 0,!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=0)}function p(e,t,i){var n=-1,a=-1,o=i||d().validPositions;void 0===e&&(e=-1);for(var r in o){var s=parseInt(r);o[s]&&(t||null!==o[s].match.fn)&&(s<=e&&(n=s),s>=e&&(a=s))}return-1!==n&&e-n>1||a<e?n:a}function h(t,i,n,a){function r(e){var t=d().validPositions[e];if(void 0!==t&&null===t.match.fn){var i=d().validPositions[e-1],n=d().validPositions[e+1];return void 0!==i&&void 0!==n}return!1}var s,l=t,u=e.extend(!0,{},d().validPositions),c=!1;for(d().p=t,s=i-1;s>=l;s--)void 0!==d().validPositions[s]&&(!0!==n&&(!d().validPositions[s].match.optionality&&r(s)||!1===o.canClearPosition(d(),s,p(),a,o))||delete d().validPositions[s]);for(f(!0),s=l+1;s<=p();){for(;void 0!==d().validPositions[l];)l++;var h=d().validPositions[l];if(s<l&&(s=l+1),void 0===d().validPositions[s]&&A(s)||void 0!==h)s++;else{var v=m(s);!1===c&&u[l]&&u[l].match.def===v.match.def?(d().validPositions[l]=e.extend(!0,{},u[l]),d().validPositions[l].input=v.input,delete d().validPositions[s],s++):g(l,v.match.def)?!1!==_(l,v.input||O(s),!0)&&(delete d().validPositions[s],s++,c=!0):A(s)||(s++,l--),l++}}f(!0)}function v(e,t){for(var i,n=e,a=p(),r=d().validPositions[a]||y(0)[0],s=void 0!==r.alternation?r.locator[r.alternation].toString().split(","):[],l=0;l<n.length&&(!((i=n[l]).match&&(o.greedy&&!0!==i.match.optionalQuantifier||(!1===i.match.optionality||!1===i.match.newBlockMarker)&&!0!==i.match.optionalQuantifier)&&(void 0===r.alternation||r.alternation!==i.alternation||void 0!==i.locator[r.alternation]&&w(i.locator[r.alternation].toString().split(","),s)))||!0===t&&(null!==i.match.fn||/[0-9a-bA-Z]/.test(i.match.def)));l++);return i}function m(e,t,i){return d().validPositions[e]||v(y(e,t?t.slice():t,i))}function k(e){return d().validPositions[e]?d().validPositions[e]:y(e)[0]}function g(e,t){for(var i=!1,n=y(e),a=0;a<n.length;a++)if(n[a].match&&n[a].match.def===t){i=!0;break}return i}function y(t,i,n){function a(i,n,r,l){function c(r,l,v){function m(t,i){var n=0===e.inArray(t,i.matches);return n||e.each(i.matches,function(e,a){if(!0===a.isQuantifier&&(n=m(t,i.matches[e-1])))return!1}),n}function k(t,i){var n=function(t,i){var n,a;return(d().tests[t]||d().validPositions[t])&&e.each(d().tests[t]||[d().validPositions[t]],function(e,t){var o=t.alternation?t.locator[t.alternation].toString().indexOf(i):-1;(void 0===a||o<a)&&-1!==o&&(n=t,a=o)}),n}(t,i);return n?n.locator.slice(n.alternation+1):void 0}function g(e,i){return null===e.match.fn&&null!==i.match.fn&&i.match.fn.test(e.match.def,d(),t,!1,o,!1)}if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(u===t&&void 0===r.matches)return f.push({match:r,locator:l.reverse(),cd:h}),!0;if(void 0!==r.matches){if(r.isGroup&&v!==r){if(r=c(i.matches[e.inArray(r,i.matches)+1],l))return!0}else if(r.isOptional){var y=r;if(r=a(r,n,l,v)){if(s=f[f.length-1].match,!m(s,y))return!0;p=!0,u=t}}else if(r.isAlternator){var b,P=r,C=[],w=f.slice(),_=l.length,A=n.length>0?n.shift():-1;if(-1===A||"string"==typeof A){var x,M=u,E=n.slice(),O=[];if("string"==typeof A)O=A.split(",");else for(x=0;x<P.matches.length;x++)O.push(x);for(var S=0;S<O.length;S++){if(x=parseInt(O[S]),f=[],n=k(u,x)||E.slice(),!0!==(r=c(P.matches[x]||i.matches[x],[x].concat(l),v)||r)&&void 0!==r&&O[O.length-1]<P.matches.length){var j=e.inArray(r,i.matches)+1;i.matches.length>j&&(r=c(i.matches[j],[j].concat(l.slice(1,l.length)),v))&&(O.push(j.toString()),e.each(f,function(e,t){t.alternation=l.length-1}))}b=f.slice(),u=M,f=[];for(var T=0;T<b.length;T++){var D=b[T],I=!1;D.alternation=D.alternation||_;for(var L=0;L<C.length;L++){var G=C[L];if(("string"!=typeof A||-1!==e.inArray(D.locator[D.alternation].toString(),O))&&(D.match.def===G.match.def||g(D,G))){I=D.match.nativeDef===G.match.nativeDef,D.alternation==G.alternation&&-1===G.locator[G.alternation].toString().indexOf(D.locator[D.alternation])&&(G.locator[G.alternation]=G.locator[G.alternation]+","+D.locator[D.alternation],G.alternation=D.alternation,null==D.match.fn&&(G.na=G.na||D.locator[D.alternation].toString(),-1===G.na.indexOf(D.locator[D.alternation])&&(G.na=G.na+","+D.locator[D.alternation])));break}}I||C.push(D)}}f=w.concat(C),u=t,p=f.length>0,n=E.slice()}else r=c(P.matches[A]||i.matches[A],[A].concat(l),v);if(r)return!0}else if(r.isQuantifier&&v!==i.matches[e.inArray(r,i.matches)-1])for(var B=r,N=n.length>0?n.shift():0;N<(isNaN(B.quantifier.max)?N+1:B.quantifier.max)&&u<=t;N++){var F=i.matches[e.inArray(B,i.matches)-1];if(r=c(F,[N].concat(l),F)){if(s=f[f.length-1].match,s.optionalQuantifier=N>B.quantifier.min-1,m(s,F)){if(N>B.quantifier.min-1){p=!0,u=t;break}return!0}return!0}}else if(r=a(r,n,l,v))return!0}else u++}for(var v=n.length>0?n.shift():0;v<i.matches.length;v++)if(!0!==i.matches[v].isQuantifier){var m=c(i.matches[v],[v].concat(r),l);if(m&&u===t)return m;if(u>t)break}}function r(e){return o.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[v(e)]:e}var s,l=d().maskToken,u=i?n:0,c=i?i.slice():[0],f=[],p=!1,h=i?i.join(""):"";if(t>-1){if(void 0===i){for(var m,k=t-1;void 0===(m=d().validPositions[k]||d().tests[k])&&k>-1;)k--;void 0!==m&&k>-1&&(c=function(t){var i=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?0===(i=v(t.slice()).locator.slice()).length&&(i=t[0].locator.slice()):e.each(t,function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var n=0;n<i.length;n++)t.locator[n]&&-1===i[n].toString().indexOf(t.locator[n])&&(i[n]+=","+t.locator[n])})),i}(m),h=c.join(""),u=k)}if(d().tests[t]&&d().tests[t][0].cd===h)return r(d().tests[t]);for(var g=c.shift();g<l.length;g++){if(a(l[g],c,[g])&&u===t||u>t)break}}return(0===f.length||p)&&f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:h}),void 0!==i&&d().tests[t]?r(e.extend(!0,[],f)):(d().tests[t]=e.extend(!0,[],f),r(d().tests[t]))}function b(){return void 0===d()._buffer&&(d()._buffer=c(!1,1),void 0===d().buffer&&d()._buffer.slice()),d()._buffer}function P(e){return void 0!==d().buffer&&!0!==e||(d().buffer=c(!0,p(),!0)),d().buffer}function C(e,t,i){var n;if(!0===e)f(),e=0,t=i.length;else for(n=e;n<t;n++)delete d().validPositions[n];for(n=e;n<t;n++)f(!0),i[n]!==o.skipOptionalPartCharacter&&_(n,i[n],!0,!0)}function w(t,i){for(var n=o.greedy?i:i.slice(0,1),a=!1,r=0;r<t.length;r++)if(-1!==e.inArray(t[r],n)){a=!0;break}return a}function _(i,n,a,r,s){function l(e){var t=se?e.begin-e.end>1||e.begin-e.end==1&&o.insertMode:e.end-e.begin>1||e.end-e.begin==1&&o.insertMode;return t&&0===e.begin&&e.end===d().maskLength?"full":t}function u(n,a,s){var u=!1;return e.each(y(n),function(c,v){for(var m=v.match,g=a?1:0,y="",b=m.cardinality;b>g;b--)y+=function(e){return void 0===d().validPositions[e]?O(e):d().validPositions[e].input}(n-(b-1));if(a&&(y+=a),P(!0),!1!==(u=null!=m.fn?m.fn.test(y,d(),n,s,o,l(i)):(a===m.def||a===o.skipOptionalPartCharacter)&&""!==m.def&&{c:m.placeholder||m.def,pos:n})){var w=void 0!==u.c?u.c:a;w=w===o.skipOptionalPartCharacter&&null===m.fn?m.placeholder||m.def:w;var A=n,x=P();if(void 0!==u.remove&&(e.isArray(u.remove)||(u.remove=[u.remove]),e.each(u.remove.sort(function(e,t){return t-e}),function(e,t){h(t,t+1,!0)})),void 0!==u.insert&&(e.isArray(u.insert)||(u.insert=[u.insert]),e.each(u.insert.sort(function(e,t){return e-t}),function(e,t){_(t.pos,t.c,!0,r)})),u.refreshFromBuffer){var M=u.refreshFromBuffer;if(s=!0,C(!0===M?M:M.start,M.end,x),void 0===u.pos&&void 0===u.c)return u.pos=p(),!1;if((A=void 0!==u.pos?u.pos:n)!==n)return u=e.extend(u,_(A,w,!0,r)),!1}else if(!0!==u&&void 0!==u.pos&&u.pos!==n&&(A=u.pos,C(n,A,P().slice()),A!==n))return u=e.extend(u,_(A,w,!0)),!1;return(!0===u||void 0!==u.pos||void 0!==u.c)&&(c>0&&f(!0),k(A,e.extend({},v,{input:function(e,i,n){switch(o.casing||i.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var a=d().validPositions[n-1];e=0===n||a&&a.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}(w,m,A)}),r,l(i))||(u=!1),!1)}}),u}function c(t,i){var n=d().validPositions[i];if(n)for(var a=n.locator,o=a.length,r=t;r<i;r++)if(void 0===d().validPositions[r]&&!A(r,!0)){var s=y(r),l=s[0],u=-1;e.each(s,function(e,t){for(var i=0;i<o&&void 0!==t.locator[i]&&w(t.locator[i].toString().split(","),a[i].toString().split(","));i++)u<i&&(u=i,l=t)}),k(r,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}function k(t,i,n,a){if(a||o.insertMode&&void 0!==d().validPositions[t]&&void 0===n){var r,s=e.extend(!0,{},d().validPositions),l=p(void 0,!0);for(r=t;r<=l;r++)delete d().validPositions[r];d().validPositions[t]=e.extend(!0,{},i);var u,c=!0,h=d().validPositions,v=!1,m=d().maskLength;for(r=u=t;r<=l;r++){var k=s[r];if(void 0!==k)for(var y=u;y<d().maskLength&&(null==k.match.fn&&h[r]&&(!0===h[r].match.optionalQuantifier||!0===h[r].match.optionality)||null!=k.match.fn);){if(y++,!1===v&&s[y]&&s[y].match.def===k.match.def)d().validPositions[y]=e.extend(!0,{},s[y]),d().validPositions[y].input=k.input,b(y),u=y,c=!0;else if(g(y,k.match.def)){var P=_(y,k.input,!0,!0);c=!1!==P,u=P.caret||P.insert?p():y,v=!0}else c=!0===k.generatedInput;if(d().maskLength<m&&(d().maskLength=m),c)break}if(!c)break}if(!c)return d().validPositions=e.extend(!0,{},s),f(!0),!1}else d().validPositions[t]=e.extend(!0,{},i);return f(!0),!0}function b(t){for(var i=t-1;i>-1&&!d().validPositions[i];i--);var n,a;for(i++;i<t;i++)void 0===d().validPositions[i]&&(!1===o.jitMasking||o.jitMasking>i)&&(""===(a=y(i,m(i-1).locator,i-1).slice())[a.length-1].match.def&&a.pop(),(n=v(a))&&(n.match.def===o.radixPointDefinitionSymbol||!A(i,!0)||e.inArray(o.radixPoint,P())<i&&n.match.fn&&n.match.fn.test(O(i),d(),i,!1,o))&&!1!==(E=u(i,n.match.placeholder||(null==n.match.fn?n.match.def:""!==O(i)?O(i):P()[i]),!0))&&(d().validPositions[E.pos||i].generatedInput=!0))}a=!0===a;var M=i;void 0!==i.begin&&(M=se&&!l(i)?i.end:i.begin);var E=!1,S=e.extend(!0,{},d().validPositions);if(b(M),l(i)&&(B(void 0,t.keyCode.DELETE,i),M=d().p),M<d().maskLength&&(E=u(M,n,a),(!a||!0===r)&&!1===E)){var j=d().validPositions[M];if(!j||null!==j.match.fn||j.match.def!==n&&n!==o.skipOptionalPartCharacter){if((o.insertMode||void 0===d().validPositions[x(M)])&&!A(M,!0)){var T=y(M).slice();""===T[T.length-1].match.def&&T.pop();var D=v(T,!0);D&&null===D.match.fn&&(D=D.match.placeholder||D.match.def,u(M,D,a),d().validPositions[M].generatedInput=!0);for(var I=M+1,L=x(M);I<=L;I++)if(!1!==(E=u(I,n,a))){c(M,void 0!==E.pos?E.pos:I),M=I;break}}}else E={caret:x(M)}}return!1===E&&o.keepStatic&&!a&&!0!==s&&(E=function(t,i,n){var a,s,l,u,c,h,v,m,k=e.extend(!0,{},d().validPositions),g=!1,b=p();for(u=d().validPositions[b];b>=0;b--)if((l=d().validPositions[b])&&void 0!==l.alternation){if(a=b,s=d().validPositions[a].alternation,u.locator[l.alternation]!==l.locator[l.alternation])break;u=l}if(void 0!==s){m=parseInt(a);var P=void 0!==u.locator[u.alternation||s]?u.locator[u.alternation||s]:v[0];P.length>0&&(P=P.split(",")[0]);var C=d().validPositions[m],w=d().validPositions[m-1];e.each(y(m,w?w.locator:void 0,m-1),function(a,l){v=l.locator[s]?l.locator[s].toString().split(","):[];for(var u=0;u<v.length;u++){var y=[],b=0,w=0,A=!1;if(P<v[u]&&(void 0===l.na||-1===e.inArray(v[u],l.na.split(",")))){d().validPositions[m]=e.extend(!0,{},l);var x=d().validPositions[m].locator;for(d().validPositions[m].locator[s]=parseInt(v[u]),null==l.match.fn?(C.input!==l.match.def&&(A=!0,!0!==C.generatedInput&&y.push(C.input)),w++,d().validPositions[m].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),d().validPositions[m].input=l.match.def):d().validPositions[m].input=C.input,c=m+1;c<p(void 0,!0)+1;c++)(h=d().validPositions[c])&&!0!==h.generatedInput&&/[0-9a-bA-Z]/.test(h.input)?y.push(h.input):c<t&&b++,delete d().validPositions[c];for(A&&y[0]===l.match.def&&y.shift(),f(!0),g=!0;y.length>0;){var M=y.shift();if(M!==o.skipOptionalPartCharacter&&!(g=_(p(void 0,!0)+1,M,!1,r,!0)))break}if(g){d().validPositions[m].locator=x;var E=p(t)+1;for(c=m+1;c<p()+1;c++)(void 0===(h=d().validPositions[c])||null==h.match.fn)&&c<t+(w-b)&&w++;g=_((t+=w-b)>E?E:t,i,n,r,!0)}if(g)return!1;f(),d().validPositions=e.extend(!0,{},k)}}})}return g}(M,n,a)),!0===E&&(E={pos:M}),e.isFunction(o.postValidation)&&!1!==E&&!a&&!0!==r&&(E=!!o.postValidation(P(!0),E,o)&&E),void 0===E.pos&&(E.pos=M),!1===E&&(f(!0),d().validPositions=e.extend(!0,{},S)),E}function A(e,t){var i;if(t?""===(i=m(e).match).def&&(i=k(e).match):i=k(e).match,null!=i.fn)return i.fn;if(!0!==t&&e>-1){var n=y(e);return n.length>1+(""===n[n.length-1].match.def?1:0)}return!1}function x(e,t){var i=d().maskLength;if(e>=i)return i;for(var n=e;++n<i&&(!0===t&&(!0!==k(n).match.newBlockMarker||!A(n))||!0!==t&&!A(n)););return n}function M(e,t){var i,n=e;if(n<=0)return 0;for(;--n>0&&(!0===t&&!0!==k(n).match.newBlockMarker||!0!==t&&!A(n)&&((i=y(n)).length<2||2===i.length&&""===i[1].match.def)););return n}function E(t,i,n,a,r){if(a&&e.isFunction(o.onBeforeWrite)){var s=o.onBeforeWrite(a,i,n,o);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;C(!0===l?l:l.start,l.end,s.buffer||i),i=P(!0)}void 0!==n&&(n=void 0!==s.caret?s.caret:n)}}t.inputmask._valueSet(i.join("")),void 0===n||void 0!==a&&"blur"===a.type?Y(t,i,n):T(t,n),!0===r&&(ue=!0,e(t).trigger("input"))}function O(e,t){if(void 0!==(t=t||k(e).match).placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&void 0===d().validPositions[e]){var i,n=y(e),a=[];if(n.length>1+(""===n[n.length-1].match.def?1:0))for(var r=0;r<n.length;r++)if(!0!==n[r].match.optionality&&!0!==n[r].match.optionalQuantifier&&(null===n[r].match.fn||void 0===i||!1!==n[r].match.fn.test(i.match.def,d(),e,!0,o))&&(a.push(n[r]),null===n[r].match.fn&&(i=n[r]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return o.placeholder.charAt(e%o.placeholder.length)}return t.def}return o.placeholder.charAt(e%o.placeholder.length)}function S(i,n,a,r,s,l){var u=r.slice(),c="",h=0,v=void 0;if(f(),d().p=x(-1),!a)if(!0!==o.autoUnmask){var k=b().slice(0,x(-1)).join(""),g=u.join("").match(new RegExp("^"+t.escapeRegex(k),"g"));g&&g.length>0&&(u.splice(0,g.length*k.length),h=x(h))}else h=x(h);if(e.each(u,function(t,n){if(void 0!==n){var r=new e.Event("keypress");r.which=n.charCodeAt(0),c+=n;var s=p(void 0,!0),l=d().validPositions[s],u=m(s+1,l?l.locator.slice():void 0,s);if(!function(){var e=!1,t=b().slice(h,x(h)).join("").indexOf(c);if(-1!==t&&!A(h)){e=!0;for(var i=b().slice(h,h+t),n=0;n<i.length;n++)if(" "!==i[n]){e=!1;break}}return e}()||a||o.autoUnmask){var k=a?t:null==u.match.fn&&u.match.optionality&&s+1<d().p?s+1:d().p;v=F.call(i,r,!0,!1,a,k),h=k+1,c=""}else v=F.call(i,r,!0,!1,!0,s+1);if(!a&&e.isFunction(o.onBeforeWrite)&&(v=o.onBeforeWrite(r,P(),v.forwardPosition,o))&&v.refreshFromBuffer){var g=v.refreshFromBuffer;C(!0===g?g:g.start,g.end,v.buffer),f(!0),v.caret&&(d().p=v.caret)}}}),n){var y=void 0,w=p();document.activeElement===i&&(s||v)&&(y=T(i).begin,s&&!1===v&&(y=x(p(y))),v&&!0!==l&&(y<w+1||-1===w)&&(y=o.numericInput&&void 0===v.caret?M(v.forwardPosition):v.forwardPosition)),E(i,P(),y,s||new e.Event("checkval"))}}function j(t){if(t&&void 0===t.inputmask)return t.value;var i=[],n=d().validPositions;for(var a in n)n[a].match&&null!=n[a].match.fn&&i.push(n[a].input);var r=0===i.length?"":(se?i.reverse():i).join("");if(e.isFunction(o.onUnMask)){var s=(se?P().slice().reverse():P()).join("");r=o.onUnMask(s,r,o)||r}return r}function T(e,t,i,n){function a(e){if(!0!==n&&se&&"number"==typeof e&&(!o.greedy||""!==o.placeholder)){e=P().join("").length-e}return e}var s;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,i=e.selectionEnd):window.getSelection?(s=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&s.commonAncestorContainer!==e||(t=s.startOffset,i=s.endOffset):document.selection&&document.selection.createRange&&(s=document.selection.createRange(),t=0-s.duplicate().moveStart("character",-e.inputmask._valueGet().length),i=t+s.text.length),{begin:a(t),end:a(i)};t=a(t),i="number"==typeof(i=a(i))?i:t;var l=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*i;if(e.scrollLeft=l>e.scrollWidth?l:0,r||!1!==o.insertMode||t!==i||i++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=i;else if(window.getSelection){if(s=document.createRange(),void 0===e.firstChild||null===e.firstChild){var u=document.createTextNode("");e.appendChild(u)}s.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),s.setEnd(e.firstChild,i<e.inputmask._valueGet().length?i:e.inputmask._valueGet().length),s.collapse(!0);var c=window.getSelection();c.removeAllRanges(),c.addRange(s)}else e.createTextRange&&((s=e.createTextRange()).collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select());Y(e,void 0,{begin:t,end:i})}function D(t){var i,n,a=P(),o=a.length,r=p(),s={},l=d().validPositions[r],u=void 0!==l?l.locator.slice():void 0;for(i=r+1;i<a.length;i++)n=m(i,u,i-1),u=n.locator.slice(),s[i]=e.extend(!0,{},n);var c=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=o-1;i>r&&((n=s[i]).match.optionality||n.match.optionalQuantifier||c&&(c!==s[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&w(n.locator[l.alternation].toString().split(","),c.toString().split(","))&&""!==y(i)[0].def))&&a[i]===O(i,n.match);i--)o--;return t?{l:o,def:s[o]?s[o].match:void 0}:o}function I(e){for(var t=D(),i=e.length-1;i>t&&!A(i);i--);return e.splice(t,i+1-t),e}function L(t){if(e.isFunction(o.isComplete))return o.isComplete(t,o);if("*"!==o.repeat){var i=!1,n=D(!0),a=M(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var r=0;r<=a;r++){var s=m(r).match;if(null!==s.fn&&void 0===d().validPositions[r]&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[r]!==O(r,s)){i=!1;break}}}return i}}function G(t){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==p()||!0!==o.nullable?document.activeElement===this&&o.clearMaskOnLostFocus?(se?I(P().slice()).reverse():I(P().slice())).join(""):a.call(this):"":a.call(this)}function n(t){r.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var a,r;if(!t.inputmask.__valueGet){if(!0!==o.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var s=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;s&&s.get&&s.set?(a=s.get,r=s.set,Object.defineProperty(t,"value",{get:i,set:n,configurable:!0})):"INPUT"!==t.tagName&&(a=function(){return this.textContent},r=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:n,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(a=t.__lookupGetter__("value"),r=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",n));t.inputmask.__valueGet=a,t.inputmask.__valueSet=r}t.inputmask._valueGet=function(e){return se&&!0!==e?a.call(this.el).split("").reverse().join(""):a.call(this.el)},t.inputmask._valueSet=function(e,t){r.call(this.el,null===e||void 0===e?"":!0!==t&&se?e.split("").reverse().join(""):e)},void 0===a&&(a=function(){return this.value},r=function(e){this.value=e},function(t){if(e.valHooks&&(void 0===e.valHooks[t]||!0!==e.valHooks[t].inputmaskpatch)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==p(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==o.nullable?t:""}return i(e)},set:function(t,i){var a,o=e(t);return a=n(t,i),t.inputmask&&o.trigger("setvalue"),a},inputmaskpatch:!0}}}(t.type),function(t){fe.on(t,"mouseenter",function(t){var i=e(this);this.inputmask._valueGet()!==P().join("")&&i.trigger("setvalue")})}(t))}}function B(i,n,a,r){if((o.numericInput||se)&&(n===t.keyCode.BACKSPACE?n=t.keyCode.DELETE:n===t.keyCode.DELETE&&(n=t.keyCode.BACKSPACE),se)){var s=a.end;a.end=a.begin,a.begin=s}n===t.keyCode.BACKSPACE&&(a.end-a.begin<1||!1===o.insertMode)?(a.begin=M(a.begin),void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==o.groupSeparator&&d().validPositions[a.begin].input!==o.radixPoint||a.begin--):n===t.keyCode.DELETE&&a.begin===a.end&&(a.end=A(a.end,!0)?a.end+1:x(a.end)+1,void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==o.groupSeparator&&d().validPositions[a.begin].input!==o.radixPoint||a.end++),h(a.begin,a.end,!1,r),!0!==r&&function(){if(o.keepStatic){for(var t=[],n=p(-1,!0),a=e.extend(!0,{},d().validPositions),r=d().validPositions[n];n>=0;n--){var s=d().validPositions[n];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&t.push(s.input),delete d().validPositions[n],void 0!==s.alternation&&s.locator[s.alternation]!==r.locator[s.alternation])break;r=s}}if(n>-1)for(d().p=x(p(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),F.call(i,l,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},a)}}();var l=p(a.begin,!0);l<a.begin?d().p=x(l):!0!==r&&(d().p=a.begin)}function N(i){var n=this,a=e(n),r=i.keyCode,s=T(n);if(r===t.keyCode.BACKSPACE||r===t.keyCode.DELETE||l&&r===t.keyCode.BACKSPACE_SAFARI||i.ctrlKey&&r===t.keyCode.X&&!function(e){var t=document.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}("cut"))i.preventDefault(),B(n,r,s),E(n,P(!0),d().p,i,n.inputmask._valueGet()!==P().join("")),n.inputmask._valueGet()===b().join("")?a.trigger("cleared"):!0===L(P())&&a.trigger("complete"),o.showTooltip&&(n.title=o.tooltip||d().mask);else if(r===t.keyCode.END||r===t.keyCode.PAGE_DOWN){i.preventDefault();var u=x(p());o.insertMode||u!==d().maskLength||i.shiftKey||u--,T(n,i.shiftKey?s.begin:u,u,!0)}else r===t.keyCode.HOME&&!i.shiftKey||r===t.keyCode.PAGE_UP?(i.preventDefault(),T(n,0,i.shiftKey?s.begin:0,!0)):(o.undoOnEscape&&r===t.keyCode.ESCAPE||90===r&&i.ctrlKey)&&!0!==i.altKey?(S(n,!0,!1,te.split("")),a.trigger("click")):r!==t.keyCode.INSERT||i.shiftKey||i.ctrlKey?!0===o.tabThrough&&r===t.keyCode.TAB?(!0===i.shiftKey?(null===k(s.begin).match.fn&&(s.begin=x(s.begin)),s.end=M(s.begin,!0),s.begin=M(s.end,!0)):(s.begin=x(s.begin,!0),s.end=x(s.begin,!0),s.end<d().maskLength&&s.end--),s.begin<d().maskLength&&(i.preventDefault(),T(n,s.begin,s.end))):i.shiftKey||(!1===o.insertMode?r===t.keyCode.RIGHT?setTimeout(function(){var e=T(n);T(n,e.begin)},0):r===t.keyCode.LEFT&&setTimeout(function(){var e=T(n);T(n,se?e.begin+1:e.begin-1)},0):setTimeout(function(){Y(n)},0)):(o.insertMode=!o.insertMode,T(n,o.insertMode||s.begin!==d().maskLength?s.begin:s.begin-1));o.onKeyDown.call(this,i,P(),T(n).begin,o),ce=-1!==e.inArray(r,o.ignorables)}function F(i,n,a,r,s){var l=e(this),u=i.which||i.charCode||i.keyCode;if(!(!0===n||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||ce))return u===t.keyCode.ENTER&&te!==P().join("")&&(te=P().join(""),setTimeout(function(){l.trigger("change")},0)),!0;if(u){46===u&&!1===i.shiftKey&&","===o.radixPoint&&(u=44);var c,p=n?{begin:s,end:s}:T(this),h=String.fromCharCode(u);d().writeOutBuffer=!0;var v=_(p,h,r);if(!1!==v&&(f(!0),c=void 0!==v.caret?v.caret:n?v.pos+1:x(v.pos),d().p=c),!1!==a){var m=this;if(setTimeout(function(){o.onKeyValidation.call(m,u,v,o)},0),d().writeOutBuffer&&!1!==v){var k=P();E(this,k,o.numericInput&&void 0===v.caret?M(c):c,i,!0!==n),!0!==n&&setTimeout(function(){!0===L(k)&&l.trigger("complete")},0)}}if(o.showTooltip&&(this.title=o.tooltip||d().mask),i.preventDefault(),n)return v.forwardPosition=c,v}}function R(t){var i,n=t.originalEvent||t,a=e(this),r=this.inputmask._valueGet(!0),s=T(this);se&&(i=s.end,s.end=s.begin,s.begin=i);var l=r.substr(0,s.begin),u=r.substr(s.end,r.length);if(l===(se?b().reverse():b()).slice(0,s.begin).join("")&&(l=""),u===(se?b().reverse():b()).slice(s.end).join("")&&(u=""),se&&(i=l,l=u,u=i),window.clipboardData&&window.clipboardData.getData)r=l+window.clipboardData.getData("Text")+u;else{if(!n.clipboardData||!n.clipboardData.getData)return!0;r=l+n.clipboardData.getData("text/plain")+u}var c=r;if(e.isFunction(o.onBeforePaste)){if(!1===(c=o.onBeforePaste(r,o)))return t.preventDefault();c||(c=r)}return S(this,!1,!1,se?c.split("").reverse():c.toString().split("")),E(this,P(),x(p()),t,te!==P().join("")),!0===L(P())&&a.trigger("complete"),t.preventDefault()}function K(i){var n=this.inputmask._valueGet();if(P().join("")!==n){var a=T(this);if(n=n.replace(new RegExp("("+t.escapeRegex(b().join(""))+")*"),""),s){var o=n.replace(P().join(""),"");if(1===o.length){var r=new e.Event("keypress");return r.which=o.charCodeAt(0),F.call(this,r,!0,!0,!1,d().validPositions[a.begin-1]?a.begin:a.begin-1),!1}}if(a.begin>n.length&&(T(this,n.length),a=T(this)),P().length-n.length!=1||n.charAt(a.begin)===P()[a.begin]||n.charAt(a.begin+1)===P()[a.begin]||A(a.begin)){for(var l=p()+1,u=b().join("");null===n.match(t.escapeRegex(u)+"$");)u=u.slice(1);S(this,!0,!1,n=(n=n.replace(u,"")).split(""),i,a.begin<l),!0===L(P())&&e(this).trigger("complete")}else i.keyCode=t.keyCode.BACKSPACE,N.call(this,i);i.preventDefault()}}function H(t){var i=this.inputmask._valueGet();S(this,!0,!1,(e.isFunction(o.onBeforeMask)?o.onBeforeMask(i,o)||i:i).split("")),te=P().join(""),(o.clearMaskOnLostFocus||o.clearIncomplete)&&this.inputmask._valueGet()===b().join("")&&this.inputmask._valueSet("")}function U(e){var t=this.inputmask._valueGet();o.showMaskOnFocus&&(!o.showMaskOnHover||o.showMaskOnHover&&""===t)&&(this.inputmask._valueGet()!==P().join("")?E(this,P(),x(p())):!1===de&&T(this,x(p()))),!0===o.positionCaretOnTab&&setTimeout(function(){V.apply(this,[e])},0),te=P().join("")}function W(e){if(de=!1,o.clearMaskOnLostFocus&&document.activeElement!==this){var t=P().slice(),i=this.inputmask._valueGet();i!==this.getAttribute("placeholder")&&""!==i&&(-1===p()&&i===b().join("")?t=[]:I(t),E(this,t))}}function V(t){var i=this;setTimeout(function(){if(document.activeElement===i){var t=T(i);if(t.begin===t.end)switch(o.positionCaretOnClick){case"none":break;case"radixFocus":if(function(t){if(""!==o.radixPoint){var i=d().validPositions;if(void 0===i[t]||i[t].input===O(t)){if(t<x(-1))return!0;var n=e.inArray(o.radixPoint,P());if(-1!==n){for(var a in i)if(n<a&&i[a].input!==O(a))return!1;return!0}}}return!1}(t.begin)){var n=e.inArray(o.radixPoint,P().join(""));T(i,o.numericInput?x(n):n);break}default:var a=t.begin,r=x(p(a,!0));if(a<r)T(i,A(a)||A(a-1)?a:x(a));else{var s=O(r);(""!==s&&P()[r]!==s&&!0!==k(r).match.optionalQuantifier||!A(r)&&k(r).match.def===s)&&(r=x(r)),T(i,r)}}}},0)}function Q(e){var t=this;setTimeout(function(){T(t,0,x(p()))},0)}function q(i){var n=e(this),a=T(this),r=i.originalEvent||i,s=window.clipboardData||r.clipboardData,l=se?P().slice(a.end,a.begin):P().slice(a.begin,a.end);s.setData("text",se?l.reverse().join(""):l.join("")),document.execCommand&&document.execCommand("copy"),B(this,t.keyCode.DELETE,a),E(this,P(),d().p,i,te!==P().join("")),this.inputmask._valueGet()===b().join("")&&n.trigger("cleared"),o.showTooltip&&(this.title=o.tooltip||d().mask)}function z(t){var i=e(this);if(this.inputmask){var n=this.inputmask._valueGet(),a=P().slice();te!==a.join("")&&setTimeout(function(){i.trigger("change"),te=a.join("")},0),""!==n&&(o.clearMaskOnLostFocus&&(-1===p()&&n===b().join("")?a=[]:I(a)),!1===L(a)&&(setTimeout(function(){i.trigger("incomplete")},0),o.clearIncomplete&&(f(),a=o.clearMaskOnLostFocus?[]:b().slice())),E(this,a,void 0,t))}}function Z(e){de=!0,document.activeElement!==this&&o.showMaskOnHover&&this.inputmask._valueGet()!==P().join("")&&E(this,P())}function X(e){te!==P().join("")&&ne.trigger("change"),o.clearMaskOnLostFocus&&-1===p()&&ie.inputmask._valueGet&&ie.inputmask._valueGet()===b().join("")&&ie.inputmask._valueSet(""),o.removeMaskOnSubmit&&(ie.inputmask._valueSet(ie.inputmask.unmaskedvalue(),!0),setTimeout(function(){E(ie,P())},0))}function $(e){setTimeout(function(){ne.trigger("setvalue")},0)}function J(t){function i(){oe.style.position="absolute",oe.style.top=n.top+"px",oe.style.left=n.left+"px",oe.style.width=parseInt(t.offsetWidth)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth)+"px",oe.style.height=parseInt(t.offsetHeight)-parseInt(a.paddingTop)-parseInt(a.paddingBottom)-parseInt(a.borderTopWidth)-parseInt(a.borderBottomWidth)+"px",oe.style.lineHeight=oe.style.height,oe.style.zIndex=isNaN(a.zIndex)?-1:a.zIndex-1,oe.style.webkitAppearance="textfield",oe.style.mozAppearance="textfield",oe.style.Appearance="textfield"}var n=e(t).position(),a=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);t.parentNode,oe=document.createElement("div"),document.body.appendChild(oe);for(var o in a)isNaN(o)&&"cssText"!==o&&-1==o.indexOf("webkit")&&(oe.style[o]=a[o]);t.style.backgroundColor="transparent",t.style.color="transparent",t.style.webkitAppearance="caret",t.style.mozAppearance="caret",t.style.Appearance="caret",i(),e(window).on("resize",function(o){n=e(t).position(),a=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),i()}),e(t).on("click",function(e){return T(t,function(e){var i,n=document.createElement("span");for(var o in a)isNaN(o)&&-1!==o.indexOf("font")&&(n.style[o]=a[o]);n.style.textTransform=a.textTransform,n.style.letterSpacing=a.letterSpacing,n.style.position="absolute",n.style.height="auto",n.style.width="auto",n.style.visibility="hidden",n.style.whiteSpace="nowrap",document.body.appendChild(n);var r,s=t.inputmask._valueGet(),l=0;for(i=0,r=s.length;i<=r;i++){if(n.innerHTML+=s.charAt(i)||"_",n.offsetWidth>=e){var u=e-l,c=n.offsetWidth-e;n.innerHTML=s.charAt(i),i=(u-=n.offsetWidth/3)<c?i-1:i;break}l=n.offsetWidth}return document.body.removeChild(n),i}(e.clientX)),V.call(this,[e])})}function Y(e,t,i){function n(){r||null!==l.fn&&void 0!==u.input?r&&null!==l.fn&&void 0!==u.input&&(r=!1,a+="</span>"):(r=!0,a+="<span class='im-static''>")}if(void 0!==oe){t=t||P(),void 0===i?i=T(e):void 0===i.begin&&(i={begin:i,end:i});var a="",r=!1;if(""!=t){var s,l,u,c=0,f=p();do{c===i.begin&&document.activeElement===e&&(a+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),d().validPositions[c]?(u=d().validPositions[c],l=u.match,s=u.locator.slice(),n(),a+=u.input):(u=m(c,s,c-1),l=u.match,s=u.locator.slice(),(!1===o.jitMasking||c<f||Number.isFinite(o.jitMasking)&&o.jitMasking>c)&&(n(),a+=O(c,l))),c++}while((void 0===ae||c<ae)&&(null!==l.fn||""!==l.def)||f>c)}oe.innerHTML=a}}function ee(t){if(function(t,i){var n=t.getAttribute("type"),a="INPUT"===t.tagName&&-1!==e.inArray(n,i.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!a&&"INPUT"===t.tagName){var o=document.createElement("input");o.setAttribute("type",n),a="text"===o.type,o=null}return a}(t,o)&&(ie=t,ne=e(ie),o.showTooltip&&(ie.title=o.tooltip||d().mask),("rtl"===ie.dir||o.rightAlign)&&(ie.style.textAlign="right"),("rtl"===ie.dir||o.numericInput)&&(ie.dir="ltr",ie.removeAttribute("dir"),ie.inputmask.isRTL=!0,se=!0),!0===o.colorMask&&J(ie),u&&(ie.hasOwnProperty("inputmode")&&(ie.inputmode=o.inputmode,ie.setAttribute("inputmode",o.inputmode)),"rtfm"===o.androidHack&&(!0!==o.colorMask&&J(ie),ie.type="password")),fe.off(ie),G(ie),fe.on(ie,"submit",X),fe.on(ie,"reset",$),fe.on(ie,"mouseenter",Z),fe.on(ie,"blur",z),fe.on(ie,"focus",U),fe.on(ie,"mouseleave",W),!0!==o.colorMask&&fe.on(ie,"click",V),fe.on(ie,"dblclick",Q),fe.on(ie,"paste",R),fe.on(ie,"dragdrop",R),fe.on(ie,"drop",R),fe.on(ie,"cut",q),fe.on(ie,"complete",o.oncomplete),fe.on(ie,"incomplete",o.onincomplete),fe.on(ie,"cleared",o.oncleared),!0!==o.inputEventOnly&&(fe.on(ie,"keydown",N),fe.on(ie,"keypress",F)),fe.on(ie,"compositionstart",e.noop),fe.on(ie,"compositionupdate",e.noop),fe.on(ie,"compositionend",e.noop),fe.on(ie,"keyup",e.noop),fe.on(ie,"input",K),fe.on(ie,"setvalue",H),b(),""!==ie.inputmask._valueGet()||!1===o.clearMaskOnLostFocus||document.activeElement===ie)){var i=e.isFunction(o.onBeforeMask)?o.onBeforeMask(ie.inputmask._valueGet(),o)||ie.inputmask._valueGet():ie.inputmask._valueGet();S(ie,!0,!1,i.split(""));var n=P().slice();te=n.join(""),!1===L(n)&&o.clearIncomplete&&f(),o.clearMaskOnLostFocus&&document.activeElement!==ie&&(-1===p()?n=[]:I(n)),E(ie,n),document.activeElement===ie&&T(ie,x(p()))}}var te,ie,ne,ae,oe,re,se=!1,le=!1,ue=!1,ce=!1,de=!1,fe={on:function(i,n,a){var r=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=e.data(this,"_inputmask_opts");n?new t(n).mask(this):fe.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||!1===o.tabThrough&&i.keyCode===t.keyCode.TAB))){switch(i.type){case"input":if(!0===ue)return ue=!1,i.preventDefault();break;case"keydown":le=!1,ue=!1;break;case"keypress":if(!0===le)return i.preventDefault();le=!0;break;case"click":if(s||l){var r=this,u=arguments;return setTimeout(function(){a.apply(r,u)},0),!1}}var c=a.apply(this,arguments);return!1===c&&(i.preventDefault(),i.stopPropagation()),c}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(r),-1!==e.inArray(n,["submit","reset"])?null!=i.form&&e(i.form).on(n,r):e(i).on(n,r)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var n;i?(n=[],n[i]=t.inputmask.events[i]):n=t.inputmask.events,e.each(n,function(i,n){for(;n.length>0;){var a=n.pop();-1!==e.inArray(i,["submit","reset"])?null!=t.form&&e(t.form).off(i,a):e(t).off(i,a)}delete t.inputmask.events[i]})}}};if(void 0!==i)switch(i.action){case"isComplete":return ie=i.el,L(P());case"unmaskedvalue":return void 0!==(ie=i.el)&&void 0!==ie.inputmask?(n=ie.inputmask.maskset,o=ie.inputmask.opts,se=ie.inputmask.isRTL):(re=i.value,o.numericInput&&(se=!0),re=(e.isFunction(o.onBeforeMask)?o.onBeforeMask(re,o)||re:re).split(""),S(void 0,!1,!1,se?re.reverse():re),e.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,P(),0,o)),j(ie);case"mask":ie=i.el,n=ie.inputmask.maskset,o=ie.inputmask.opts,se=ie.inputmask.isRTL,ee(ie);break;case"format":return o.numericInput&&(se=!0),re=(e.isFunction(o.onBeforeMask)?o.onBeforeMask(i.value,o)||i.value:i.value).split(""),S(void 0,!1,!1,se?re.reverse():re),e.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,P(),0,o),i.metadata?{value:se?P().slice().reverse().join(""):P().join(""),metadata:a({action:"getmetadata"},n,o)}:se?P().slice().reverse().join(""):P().join("");case"isValid":o.numericInput&&(se=!0),i.value?(re=i.value.split(""),S(void 0,!1,!0,se?re.reverse():re)):i.value=P().join("");for(var pe=P(),he=D(),ve=pe.length-1;ve>he&&!A(ve);ve--);return pe.splice(he,ve+1-he),L(pe)&&i.value===P().join("");case"getemptymask":return b().join("");case"remove":ie=i.el,ne=e(ie),n=ie.inputmask.maskset,o=ie.inputmask.opts,ie.inputmask._valueSet(j(ie)),fe.off(ie);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ie),"value")&&ie.inputmask.__valueGet&&Object.defineProperty(ie,"value",{get:ie.inputmask.__valueGet,set:ie.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&ie.__lookupGetter__("value")&&ie.inputmask.__valueGet&&(ie.__defineGetter__("value",ie.inputmask.__valueGet),ie.__defineSetter__("value",ie.inputmask.__valueSet)),ie.inputmask=void 0;break;case"getmetadata":if(e.isArray(n.metadata)){for(var me,ke=p(void 0,!0);ke>=0;ke--)if(d().validPositions[ke]&&void 0!==d().validPositions[ke].alternation){me=d().validPositions[ke].alternation;break}return void 0!==me?n.metadata[d().validPositions[ke].locator[me]]:[]}return n.metadata}}t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,i){return e.isFunction(i.onBeforeMask)?i.onBeforeMask(t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},masksCache:{},mask:function(o){var r=this;return"string"==typeof o&&(o=document.getElementById(o)||document.querySelectorAll(o)),o=o.nodeName?[o]:o,e.each(o,function(o,s){var l=e.extend(!0,{},r.opts);!function(t,n,a,o){function r(e,i){null!==(i=void 0!==i?i:t.getAttribute(o+"-"+e))&&("string"==typeof i&&(0===e.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),a[e]=i)}var s,l,u,c,d=t.getAttribute(o);if(d&&""!==d&&(d=d.replace(new RegExp("'","g"),'"'),l=JSON.parse("{"+d+"}")),l){u=void 0;for(c in l)if("alias"===c.toLowerCase()){u=l[c];break}}r("alias",u),a.alias&&i(a.alias,a,n);for(s in n){if(l){u=void 0;for(c in l)if(c.toLowerCase()===s.toLowerCase()){u=l[c];break}}r(s,u)}e.extend(!0,n,a)}(s,l,e.extend(!0,{},r.userOptions),r.dataAttribute);var u=n(l,r.noMasksCache);void 0!==u&&(void 0!==s.inputmask&&s.inputmask.remove(),s.inputmask=new t,s.inputmask.opts=l,s.inputmask.noMasksCache=r.noMasksCache,s.inputmask.userOptions=e.extend(!0,{},r.userOptions),s.inputmask.el=s,s.inputmask.maskset=u,s.inputmask.isRTL=!1,e.data(s,"_inputmask_opts",l),a({action:"mask",el:s}))}),o&&o[0]?o[0].inputmask||this:this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==i&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return a({action:"unmaskedvalue",el:this.el,value:e},this.el&&this.el.inputmask?this.el.inputmask.maskset:n(this.opts,this.noMasksCache),this.opts)},remove:function(){if(this.el)return a({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el},getemptymask:function(){return a({action:"getemptymask"},this.maskset||n(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return a({action:"isComplete",el:this.el},this.maskset||n(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return a({action:"getmetadata"},this.maskset||n(this.opts,this.noMasksCache),this.opts)},isValid:function(e){return a({action:"isValid",value:e},this.maskset||n(this.opts,this.noMasksCache),this.opts)},format:function(e,t){return a({action:"format",value:e,metadata:t},this.maskset||n(this.opts,this.noMasksCache),this.opts)}},t.extendDefaults=function(i){e.extend(!0,t.prototype.defaults,i)},t.extendDefinitions=function(i){e.extend(!0,t.prototype.defaults.definitions,i)},t.extendAliases=function(i){e.extend(!0,t.prototype.defaults.aliases,i)},t.format=function(e,i,n){return t(i).format(e,n)},t.unmask=function(e,i){return t(i).unmaskedvalue(e)},t.isValid=function(e,i){return t(i).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},t.analyseMask=function(t,i){function n(e,t,i,n){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function a(t,n,a){var o=i.definitions[n];a=void 0!==a?a:t.matches.length;var r=t.matches[a-1];if(o&&!k){o.placeholder=e.isFunction(o.placeholder)?o.placeholder(i):o.placeholder;for(var s=o.prevalidator,l=s?s.length:0,u=1;u<o.cardinality;u++){var c=l>=u?s[u-1]:[],d=c.validator,f=c.cardinality;t.matches.splice(a++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:f||1,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,nativeDef:n}),r=t.matches[a-1]}t.matches.splice(a++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,nativeDef:n})}else t.matches.splice(a++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,nativeDef:n}),k=!1}function o(e,t){e.isGroup&&(e.isGroup=!1,a(e,i.groupmarker.start,0),!0!==t&&a(e,i.groupmarker.end))}function r(e,t,i,n){t.matches.length>0&&(void 0===n||n)&&(i=t.matches[t.matches.length-1],o(i)),a(t,e)}function s(){if(y.length>0){if(f=y[y.length-1],r(c,f,h,!f.isAlternator),f.isAlternator){p=y.pop();for(var e=0;e<p.matches.length;e++)p.matches[e].isGroup=!1;y.length>0?(f=y[y.length-1]).matches.push(p):g.matches.push(p)}}else r(c,g,h)}function l(e){function t(e){return e===i.optionalmarker.start?e=i.optionalmarker.end:e===i.optionalmarker.end?e=i.optionalmarker.start:e===i.groupmarker.start?e=i.groupmarker.end:e===i.groupmarker.end&&(e=i.groupmarker.start),e}e.matches=e.matches.reverse();for(var n in e.matches){var a=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[a+1]&&e.matches[a+1].isGroup){var o=e.matches[n];e.matches.splice(n,1),e.matches.splice(a+1,0,o)}void 0!==e.matches[n].matches?e.matches[n]=l(e.matches[n]):e.matches[n]=t(e.matches[n])}return e}for(var u,c,d,f,p,h,v,m=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,k=!1,g=new n,y=[],b=[];u=m.exec(t);)if(c=u[0],k)s();else switch(c.charAt(0)){case i.escapeChar:k=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(void 0!==(d=y.pop()))if(y.length>0){if((f=y[y.length-1]).matches.push(d),f.isAlternator){p=y.pop();for(var P=0;P<p.matches.length;P++)p.matches[P].isGroup=!1;y.length>0?(f=y[y.length-1]).matches.push(p):g.matches.push(p)}}else g.matches.push(d);else s();break;case i.optionalmarker.start:y.push(new n(!1,!0));break;case i.groupmarker.start:y.push(new n(!0));break;case i.quantifiermarker.start:var C=new n(!1,!1,!0),w=(c=c.replace(/[{}]/g,"")).split(","),_=isNaN(w[0])?w[0]:parseInt(w[0]),A=1===w.length?_:isNaN(w[1])?w[1]:parseInt(w[1]);if("*"!==A&&"+"!==A||(_="*"===A?0:1),C.quantifier={min:_,max:A},y.length>0){var x=y[y.length-1].matches;(u=x.pop()).isGroup||((v=new n(!0)).matches.push(u),u=v),x.push(u),x.push(C)}else(u=g.matches.pop()).isGroup||((v=new n(!0)).matches.push(u),u=v),g.matches.push(u),g.matches.push(C);break;case i.alternatormarker:y.length>0?(f=y[y.length-1],h=f.matches.pop()):h=g.matches.pop(),h.isAlternator?y.push(h):((p=new n(!1,!1,!1,!0)).matches.push(h),y.push(p));break;default:s()}for(;y.length>0;)d=y.pop(),o(d,!0),g.matches.push(d);return g.matches.length>0&&(h=g.matches[g.matches.length-1],o(h),b.push(g)),i.numericInput&&l(b[0]),b};var o=navigator.userAgent,r=/mobile/i.test(o),s=/iemobile/i.test(o),l=/iphone/i.test(o)&&!s,u=/android/i.test(o)&&!s;return window.Inputmask=t,t});