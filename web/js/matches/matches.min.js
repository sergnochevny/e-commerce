"use strict";!function(a){var o=1,t=a("#base_url").val();a(document).ready(function(o){setTimeout(function(){a("html,body").stop().animate({scrollTop:a("#content").offset().top},2e3)},300)}),a("#dragZoneArea > img").mousedown(function(t){a(this).css("z-index",o++)}).draggable({containment:"#dragZoneArea",start:function(t,e){a(this).css("z-index",o++)},revert:function(o){return o&&a(o).hasClass("AddToCartDragImg")}}),a(document).on("dblclick","img.product_img_holder",function(o){a("body").waitloader("show"),window.location=a(this).attr("data-detail_url")}),a(".deleteDragImg").droppable({hoverClass:"ui-state-hover",drop:function(o,t){var e=a(t.draggable).attr("data-delete_url"),n=new FormData;a("body").waitloader("show"),a.postdata(this,e,n,function(o){a(t.draggable).remove(),a("body").waitloader("remove")})}}),a(".detailsDragImg").droppable({hoverClass:"ui-state-hover",drop:function(o,t){a("body").waitloader("show"),window.location=a(t.draggable).attr("data-detail_url")}}),a(".AddToCartDragImg").on("click",function(){a("body").waitloader("show"),window.location=t+"cart"}),a(".AddToCartDragImg").droppable({hoverClass:"ui-state-hover",drop:function(o,e){var n=[],d=this,r=a(d).attr("data-href"),i=t+"cart/amount",s=new FormData;n.push(a(e.draggable).attr("data-id")),n=JSON.stringify(n),s.append("data",n),a("body").waitloader("show"),a.postdata(this,r,s,function(o){a.when(a("body").waitloader("show"),a(o).appendTo("#content"),a("span#cart_amount").load(i).done(function(){a("body").waitloader("remove")})).done(function(){a(d).removeClass("simple-icon-basket").addClass("simple-icon-basket-loaded"),a("#modal").modal("show").on("hidden.bs.modal",function(){a(this).remove()})})})}}),a("#clear_matches").on("click",function(o){var t=a(this).attr("href"),e=new FormData;o.preventDefault(),a("body").waitloader("show"),a.postdata(this,t,e,function(o){a("img.product_img_holder").each(function(){a(this).remove()}),a("body").waitloader("remove")})}),a("#all_to_basket").on("click",function(o){var e=[],n=a(this).attr("href"),d=t+"cart/amount",r=new FormData;a("#dragZoneArea").children("img").each(function(o,t){e.push(a(this).attr("data-id"))}),o.preventDefault(),e=JSON.stringify(e),r.append("data",e),a("body").waitloader("show"),a.postdata(this,n,r,function(o){a("body").waitloader("show"),a.when(a(o).appendTo("#content"),a("span#cart_amount").load(d).done(function(){a("body").waitloader("remove")})).done(function(){a("#clear_matches").trigger("click"),a("#modal").modal("show").on("hidden.bs.modal",function(){a(this).remove()})})})})}(jQuery);