!function(a){"use strict";function t(t,e,n){a.postdata(t,e,n,function(t){a("#content").html(t)})}a(document).on("submit.search_action","form[data-search]",function(e,n){e.preventDefault(),e.stopPropagation();var r={};n?((r=new FormData).append("search[reset]",!0),a("#f_search").addClass("hidden"),a("#f_search")[0]&&a("#f_search")[0].reset()):(a('[name="search[a.pname]"]').length&&a("#search").attr("value",a('[name="search[a.pname]"]').attr("value")),r=new FormData(this));var o=a("form[data-sort]");o.length&&new FormData(o[0]).forEach(function(a,t){r.append(t,a)});var i=a("[data-limit]");i.length&&r.append("per_page",i.val()),t(this,a(this).attr("action"),r)}),a(document).on("click.search_action","[data-search_reset]",function(t){t.preventDefault(),t.stopPropagation(),a("form[data-search]").trigger("submit",[!0])}),a(document).on("click.search_action","[data-search_submit]",function(t){t.preventDefault(),t.stopPropagation(),a("form[data-search]").trigger("submit")}),a(document).on("click.search_action","[data-to_page]",function(e){e.preventDefault(),e.stopPropagation();var n=a("form[data-search]");if(n.length)n.attr("action",a(this).attr("href")),n.trigger("submit");else{var r=new FormData;r.append("search[null]","null");var o=a("form[data-sort]");o.length&&new FormData(o[0]).forEach(function(a,t){r.append(t,a)});var i=a("[data-limit]");i.length&&r.append("per_page",i.val()),t(this,a(this).attr("href"),r)}}),a(document).on("click.search_action","[data-sort]",function(e){e.preventDefault(),e.stopPropagation();var n=a("form[data-search]");if(n.length)n.attr("action",a(this).attr("href")),n.trigger("submit");else{var r=new FormData;r.append("search[null]","null");var o=a("form[data-sort]");o.length&&new FormData(o[0]).forEach(function(a,t){r.append(t,a)});var i=a("[data-limit]");i.length&&r.append("per_page",i.val()),t(this,a(this).attr("href"),r)}}),a(document).on("change.search_action","[data-limit]",function(e){e.preventDefault(),e.stopPropagation();var n=a("form[data-search]");if(n.length)n.attr("action",window.location.href),n.trigger("submit");else{var r=new FormData;r.append("search[null]","null");var o=a("form[data-sort]");o.length&&new FormData(o[0]).forEach(function(a,t){r.append(t,a)});var i=a("[data-limit]");i.length&&r.append("per_page",i.val()),t(this,window.location.href,r)}}),a(document).on("selectmenuchange.search_action","[data-limit]",function(t){a(this).trigger("change")})}(jQuery);